/*! WOW wow.js - v1.3.0 - 2016-10-04
* https://wowjs.uk
* Copyright (c) 2016 Thomas Grainger; Licensed MIT */
!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.WOW=n.exports}}(this,(function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return t.indexOf(e)>=0}function a(e,t){for(var n in t)if(null==e[n]){var i=t[n];e[n]=i}return e}function o(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=void 0;return null!=document.createEvent?(a=document.createEvent("CustomEvent")).initCustomEvent(e,t,n,i):null!=document.createEventObject?(a=document.createEventObject()).eventType=e:a.eventName=e,a}function l(e,t,n){null!=e.addEventListener?e.addEventListener(t,n,!1):null!=e.attachEvent?e.attachEvent("on"+t,n):e[t]=n}function r(e,t,n){null!=e.removeEventListener?e.removeEventListener(t,n,!1):null!=e.detachEvent?e.detachEvent("on"+t,n):delete e[t]}Object.defineProperty(t,"__esModule",{value:!0});var s,d,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=window.WeakMap||window.MozWeakMap||function(){function e(){n(this,e),this.keys=[],this.values=[]}return c(e,[{key:"get",value:function(e){for(var t=0;t<this.keys.length;t++){if(this.keys[t]===e)return this.values[t]}}},{key:"set",value:function(e,t){for(var n=0;n<this.keys.length;n++){if(this.keys[n]===e)return this.values[n]=t,this}return this.keys.push(e),this.values.push(t),this}}]),e}(),m=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(d=s=function(){function e(){n(this,e),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}return c(e,[{key:"observe",value:function(){}}]),e}(),s.notSupported=!0,d),h=window.getComputedStyle||function(e){var t=/(\-([a-z]){1})/g;return{getPropertyValue:function(n){"float"===n&&(n="styleFloat"),t.test(n)&&n.replace(t,(function(e,t){return t.toUpperCase()}));var i=e.currentStyle;return(null!=i?i[n]:void 0)||null}}},p=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate="requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()},this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=a(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new u,this.wowEvent=o(this.config.boxClass)}return c(e,[{key:"init",value:function(){this.element=window.document.documentElement,i(document.readyState,["interactive","complete"])?this.start():l(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var e=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var t=0;t<this.boxes.length;t++){var n=this.boxes[t];this.applyStyle(n,!0)}(this.disabled()||(l(this.config.scrollContainer||window,"scroll",this.scrollHandler),l(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)&&new m((function(t){for(var n=0;n<t.length;n++)for(var i=t[n],a=0;a<i.addedNodes.length;a++){var o=i.addedNodes[a];e.doSync(o)}})).observe(document.body,{childList:!0,subtree:!0})}},{key:"stop",value:function(){this.stopped=!0,r(this.config.scrollContainer||window,"scroll",this.scrollHandler),r(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){m.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(e){if(null!=e||(e=this.element),1===e.nodeType)for(var t=(e=e.parentNode||e).querySelectorAll("."+this.config.boxClass),n=0;n<t.length;n++){var a=t[n];i(a,this.all)||(this.boxes.push(a),this.all.push(a),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(a,!0),this.scrolled=!0)}}},{key:"show",value:function(e){return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(e),function(e,t){null!=e.dispatchEvent?e.dispatchEvent(t):t in(null!=e)?e[t]():"on"+t in(null!=e)&&e["on"+t]()}(e,this.wowEvent),this.config.resetAnimation&&(l(e,"animationend",this.resetAnimation),l(e,"oanimationend",this.resetAnimation),l(e,"webkitAnimationEnd",this.resetAnimation),l(e,"MSAnimationEnd",this.resetAnimation)),e}},{key:"applyStyle",value:function(e,t){var n=this,i=e.getAttribute("data-wow-duration"),a=e.getAttribute("data-wow-delay"),o=e.getAttribute("data-wow-iteration");return this.animate((function(){return n.customStyle(e,t,i,a,o)}))}},{key:"resetStyle",value:function(){for(var e=0;e<this.boxes.length;e++){this.boxes[e].style.visibility="visible"}}},{key:"resetAnimation",value:function(e){if(e.type.toLowerCase().indexOf("animationend")>=0){var t=e.target||e.srcElement;t.className=t.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function(e,t,n,i,a){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",n&&this.vendorSet(e.style,{animationDuration:n}),i&&this.vendorSet(e.style,{animationDelay:i}),a&&this.vendorSet(e.style,{animationIterationCount:a}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e}},{key:"vendorSet",value:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e[""+n]=i;for(var a=0;a<this.vendors.length;a++){e[""+this.vendors[a]+n.charAt(0).toUpperCase()+n.substr(1)]=i}}}},{key:"vendorCSS",value:function(e,t){for(var n=h(e),i=n.getPropertyCSSValue(t),a=0;a<this.vendors.length;a++){var o=this.vendors[a];i=i||n.getPropertyCSSValue("-"+o+"-"+t)}return i}},{key:"animationName",value:function(e){var t=void 0;try{t=this.vendorCSS(e,"animation-name").cssText}catch(n){t=h(e).getPropertyValue("animation-name")}return"none"===t?"":t}},{key:"cacheAnimationName",value:function(e){return this.animationNameCache.set(e,this.animationName(e))}},{key:"cachedAnimationName",value:function(e){return this.animationNameCache.get(e)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var e=[],t=0;t<this.boxes.length;t++){var n=this.boxes[t];if(n){if(this.isVisible(n)){this.show(n);continue}e.push(n)}}this.boxes=e,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(e){for(;void 0===e.offsetTop;)e=e.parentNode;for(var t=e.offsetTop;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}},{key:"isVisible",value:function(e){var t=e.getAttribute("data-wow-offset")||this.config.offset,n=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,i=n+Math.min(this.element.clientHeight,"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight)-t,a=this.offsetTop(e),o=a+e.clientHeight;return i>=a&&o>=n}},{key:"disabled",value:function(){return!this.config.mobile&&function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}(navigator.userAgent)}}]),e}();t.default=p,e.exports=t.default}));const mainHeader=document.querySelector(".main-header"),specificPageContainer=document.querySelector(".spec-items"),mainPageContainer=document.querySelector(".spec-container"),clearBtn=document.querySelector(".order-deleteAll-button"),addedLabel=document.querySelector(".added"),ifOrderIsEmpty=document.querySelector(".order-empty");addedLabel&&addedLabel.addEventListener("animationend",()=>{addedLabel.classList.remove("animate")}),clearBtn&&clearBtn.addEventListener("click",clearOrder);const navBarList=document.querySelector(".navbar-list"),navBarIcon=document.querySelector(".navbar-icon");navBarIcon.addEventListener("click",()=>{navBarIcon.classList.toggle("opened"),navBarList.classList.toggle("opened")});const navBarFolding=document.querySelector(".navbar-list--folding"),navBarFolded=document.querySelector(".navbar-list--folded");navBarFolding.addEventListener("click",()=>{navBarFolded.classList.toggle("opened")}),async function(){if(mainHeader){let e=await fetch("./dist/json/items.json"),t=await e.json();if("italian specialities"===mainHeader.textContent.toLowerCase())for(item of t)if("1111"===item.id||"1112"===item.id||"1113"===item.id||"1114"===item.id){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("h4"),i=document.createElement("p"),a=document.createElement("h6"),o=document.createElement("img");t.appendChild(n),t.appendChild(i),t.appendChild(a),e.appendChild(t),e.appendChild(o),e.classList.add("spec-item","col-sm-12","row","col-xl-6","wow","fadeInUp"),o.classList.add("spec-item--image","col-sm-6"),t.classList.add("spec-item--info","col-sm-6"),n.textContent=item.name,i.textContent=item.aboutMini,a.textContent="Price: "+item.price+"$",o.src="./dist/image/"+item.imagePath,o.alt=item.name+" image",createOrderButton(item.id,t),mainPageContainer.appendChild(e)}if("main dishes"===mainHeader.textContent.toLowerCase()||"salad"===mainHeader.textContent.toLowerCase()||"drinks"===mainHeader.textContent.toLowerCase()){let e,n=1;for(item of(e=mainHeader.textContent.includes(" ")?mainHeader.textContent.slice(0,mainHeader.textContent.indexOf(" ")):mainHeader.textContent,t))if(item.type===e.toLowerCase()){++n;let e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("h4"),a=document.createElement("p"),o=document.createElement("h6"),l=document.createElement("img");l.classList.add("spec-item--image-full","col-md-6"),t.classList.add("spec-item--info-full","col-md-6"),t.appendChild(i),t.appendChild(a),t.appendChild(o),n%2==0?(e.appendChild(t),e.appendChild(l),e.classList.add("spec-item","col-md-12","row","wow","fadeInLeft")):(e.appendChild(l),e.appendChild(t),e.classList.add("spec-item","col-md-12","row","wow","fadeInRight")),i.textContent=item.name,a.textContent=item.about,o.textContent="Price: "+item.price+"$",l.src="./dist/image/"+item.imagePath,l.alt=item.name,createOrderButton(item.id,t),specificPageContainer.appendChild(e)}n=1}if("your order"===mainHeader.textContent.toLowerCase())if(localStorage.order){let e=orderToObject(localStorage.order);for(let n in e)for(item of t)if(item.id===n){let t=document.createElement("div"),i=document.createElement("div"),a=document.createElement("h4"),o=document.createElement("p"),l=document.createElement("h6"),r=document.createElement("img");i.classList.add("spec-item","spec-item-order","col-md-6","col-lg-4","col-xl-3","wow","fadeInUp"),r.classList.add("spec-item--image-order","col-md-12"),t.classList.add("spec-item--info-order","col-md-12"),i.appendChild(r),i.appendChild(t),t.appendChild(a),item.aboutMini&&(t.appendChild(o),o.textContent=item.aboutMini),t.appendChild(l),l.classList.add("item-price"),a.textContent=item.name,o.textContent=item.aboutMini,e[n]>1?l.textContent=`${(item.price*e[n]).toFixed(2)}$ in total. ${item.price}$ for each.`:l.textContent=item.price+"$ in total.",r.src="./dist/image/"+item.imagePath,r.alt=item.name,createOrderButton(item.id,t,e[n],l,item.price),specificPageContainer.appendChild(i)}let n=document.createElement("h2");n.classList.add("order-total"),specificPageContainer.appendChild(n),getOrderTotal(),createFormElements(specificPageContainer)}else clearBtn.style.display="none",ifOrderIsEmpty.style.display="block"}(new WOW).init()}();let total=0;function createFormElements(e){let t=document.createElement("form"),n=document.createElement("label"),i=document.createElement("input"),a=document.createElement("label"),o=document.createElement("input"),l=document.createElement("label"),r=document.createElement("input"),s=document.createElement("button");t.classList.add("order-form","col-12"),t.action="#",t.addEventListener("submit",e=>{e.preventDefault();let t={};t.ids=orderToObject(localStorage.order),t.name=i.value,t.phone=o.value,""!==r.textContent&&(t.email=r.value),t.timestamp=(new Date).toLocaleString(),t.total=total+"$"}),n.setAttribute("for","name"),n.textContent="Your name (2-15 symbols)",i.type="text",i.id="name",i.name="name",i.setAttribute("required",""),i.minLength=2,i.maxLength=15,i.placeholder="Your name 2-15 chars.",a.setAttribute("for","phone"),a.textContent="Your phone number",o.type="tel",o.id="phone",o.name="phone",o.setAttribute("required",""),o.placeholder="+7 (___) ___-____",o.pattern="\\+7\\s\\([0-9]{3}\\)\\s[0-9]{3}-[0-9]{4}",o.dataset.slots="_";const d=o.getAttribute("placeholder"),c=new Set(o.dataset.slots||"_"),u=(v=0,Array.from(d,(e,t)=>c.has(e)?v=t+1:v)),m=[...d].findIndex(e=>c.has(e)),h=new RegExp(o.dataset.accept||"\\d","g"),p=e=>(e=e.match(h)||[],Array.from(d,t=>(e[0]===t||c.has(t))&&e.shift()||t)),f=()=>{const[e,t]=[o.selectionStart,o.selectionEnd].map(e=>(e=p(o.value.slice(0,e)).findIndex(e=>c.has(e)))<0?u[u.length-1]:b?u[e-1]||m:e);o.value=p(o.value).join``,o.setSelectionRange(e,t),b=!1};var v;let b=!1;o.addEventListener("keydown",e=>b="Backspace"===e.key),o.addEventListener("input",f),o.addEventListener("focus",f),o.addEventListener("blur",()=>o.value===d&&(o.value="")),l.setAttribute("for","email"),l.textContent="Your email (Optional)",r.type="email",r.id="email",r.name="email",r.size=30,s.textContent="Make order",s.type="submit",s.value="submit",t.appendChild(n),t.appendChild(i),t.appendChild(a),t.appendChild(o),t.appendChild(l),t.appendChild(r),t.appendChild(s),e.appendChild(t)}function getOrderTotal(){total=0;let e=document.querySelector(".order-total");e.classList.add("col-12"),document.querySelectorAll(".item-price").forEach(e=>{total+=parseFloat(e.textContent.slice(0,e.textContent.indexOf("$")))}),e.textContent=`Total order is ${total.toFixed(2)}$`}function createOrderButton(e,t,n,i,a){let o=document.createElement("div"),l=document.createElement("span"),r=document.createElement("input"),s=document.createElement("span");if(o.classList.add("input"),l.classList.add("input-minus"),s.classList.add("input-plus"),r.classList.add("input-field"),l.textContent="-",l.addEventListener("click",()=>{if("1"!=l.nextElementSibling.value&&(l.nextElementSibling.value=parseInt(l.nextElementSibling.value)-1,n)){let t=orderToObject(localStorage.order);addedLabel&&(addedLabel.classList.add("animate"),addedLabel.style.visibility="visible",addedLabel.textContent="Removed"),t[e]-=1,t[e]>1?i.textContent=`${(a*t[e]).toFixed(2)}$ in total. ${a}$ for each.`:i.textContent=a+"$ in total.",getOrderTotal(),localStorage.order=orderToString(t)}}),s.textContent="+",s.addEventListener("click",()=>{if(s.previousElementSibling.value=parseInt(s.previousElementSibling.value)+1,n){let t=orderToObject(localStorage.order);addedLabel&&(addedLabel.classList.add("animate"),addedLabel.style.visibility="visible",addedLabel.textContent="Added"),t[e]+=1,t[e]>1?i.textContent=`${(a*t[e]).toFixed(2)}$ in total. ${a}$ for each.`:i.textContent=a+"$ in total.",getOrderTotal(),localStorage.order=orderToString(t)}}),r.type="number",r.value=n||1,r.min=1,r.setAttribute("readonly",""),o.appendChild(l),o.appendChild(r),o.appendChild(s),t.appendChild(o),n){let n=document.createElement("button");n.textContent="Delete",n.addEventListener("click",()=>{let t=orderToObject(localStorage.order);delete t[e],localStorage.order=orderToString(t),""===localStorage.order&&clearOrder(),n.parentElement.parentElement.remove(),getOrderTotal()}),t.appendChild(n)}else{let n=document.createElement("button");n.textContent="Add to order",n.classList.add("to-upper"),n.value=e,t.appendChild(n),n.addEventListener("click",()=>{n.classList.add("animate"),addedLabel&&(addedLabel.classList.add("animate"),addedLabel.style.visibility="visible");let e=parseInt(n.previousSibling.children[1].value);localStorage.order?localStorage.order+=e>1?","+n.value+"x"+e:","+n.value:e>1?localStorage.setItem("order",`${n.value}x${e}`):localStorage.setItem("order",""+n.value)}),n.addEventListener("animationend",()=>{n.classList.remove("animate")})}}function orderToString(e){let t="",n=Object.entries(e);return n.forEach(e=>{n.indexOf(e)===n.length-1?t+=e[0]+"x"+e[1]:t+=e[0]+"x"+e[1]+","}),t}function orderToObject(e){let t=e.split(",");t.sort();let n=null,i=0,a={};for(let e=0;e<t.length;e++)t[e].includes(n)?t[e].includes("x")?i+=parseInt(t[e].slice(t[e].indexOf("x")+1)):i++:t[e].includes("x")?(i>0&&(a[n]=i),n=t[e].slice(0,4),i=parseInt(t[e].slice(t[e].indexOf("x")+1))):(i>0&&(a[n]=i),n=t[e],i=1);return i>0&&(a[n]=i),a}function clearOrder(){for(;specificPageContainer.firstChild;)specificPageContainer.firstChild.remove(),localStorage.clear();total=0,clearBtn.style.display="none",ifOrderIsEmpty.style.display="block"}